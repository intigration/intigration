


<!DOCTYPE html>
<html lang="en-us">
  <head>
    <script>
        var host = "10up.github.io";
        if ( window.location.host === host && window.location.protocol !== "https:" ) {
            window.location.protocol = "https:";
        }
    </script>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.ico" type="image/x-icon">

    <title>
      10up Engineering Best Practices
    </title>

    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic|PT+Mono&subset=latin,cyrillic">

    <script type='text/javascript' src='//use.typekit.net/dtp2teh.js?ver=4.0'></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <!-- Google Analytics to go here -->
  </head>
  <body class="page-javascript">
    <header id="page-header" role="banner">
	<div class="page-header-content">
		<a href="/Engineering-Best-Practices" class="logo-link">10up</a>
		<nav class="page-nav top-nav" role="navigation" aria-label="Main navigation.">
			<ul class="header-nav nav-dropdowns js-mobile-expandable">
				
				
				
  
    
  

  
    
  

  

  

  
    
  

  
    
      
      <li>
      
      	<a href="/">Home</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/#audience">Audience</a></li>
            
          
            
              <li><a href="/#goal">Goal</a></li>
            
          
            
              <li><a href="/#philosophy">Philosophy</a></li>
            
          
            
              <li><a href="/#contributing">Contributing</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/css/">CSS</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/css/#philosophy">Philosophy</a></li>
            
          
            
              <li><a href="/css/#accessibility">Accessibility</a></li>
            
          
            
              <li><a href="/css/#performance">Performance</a></li>
            
          
            
              <li><a href="/css/#responsive-design">Responsive Design</a></li>
            
          
            
              <li><a href="/css/#syntax-formatting">Syntax and Formatting</a></li>
            
          
            
              <li><a href="/css/#documentation">Documentation</a></li>
            
          
            
              <li><a href="/css/#frameworks">Frameworks</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/javascript/">JS</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/javascript/#code-style">Code Style & Documentation</a></li>
            
          
            
              <li><a href="/javascript/#design-patterns">Design Patterns</a></li>
            
          
            
              <li><a href="/javascript/#performance">Performance</a></li>
            
          
            
              <li><a href="/javascript/#client-side-data">Client-Side Data</a></li>
            
          
            
              <li><a href="/javascript/#unit-and-integration-testing">Unit and Integration Testing</a></li>
            
          
            
              <li><a href="/javascript/#libraries">Libraries and Frameworks</a></li>
            
          
            
              <li><a href="/react">React</a></li>
            
          
            
              <li><a href="/nodejs">Node.js</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/markup/">Markup</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/markup/#philosophy">Philosophy</a></li>
            
          
            
              <li><a href="/markup/#accessibility">Accessibility</a></li>
            
          
            
              <li><a href="/markup/#structure">Structure</a></li>
            
          
            
              <li><a href="/markup/#media">Media</a></li>
            
          
            
              <li><a href="/markup/#svg">SVG</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/tools/">Tools</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/tools/#local-development">Local Development Environments</a></li>
            
          
            
              <li><a href="/tools/#scaffolding">Scaffolding</a></li>
            
          
            
              <li><a href="/tools/#task-runners">Task Runners</a></li>
            
          
            
              <li><a href="/tools/#package-managers">Package/Dependency Managers</a></li>
            
          
            
              <li><a href="/tools/#version-control">Version Control</a></li>
            
          
            
              <li><a href="/tools/#command-line">Command Line Tools</a></li>
            
          
            
              <li><a href="/tools/#a11y-testing">Accessibility Testing</a></li>
            
          
            
              <li><a href="/tools/#vrt">Visual Regression Testing</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/php/">PHP</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/php/#performance">Performance</a></li>
            
          
            
              <li><a href="/php/#design-patterns">Design Patterns</a></li>
            
          
            
              <li><a href="/php/#security">Security</a></li>
            
          
            
              <li><a href="/php/#code-style">Code Style & Documentation</a></li>
            
          
            
              <li><a href="/php/#unit-testing">Unit and Integration Testing</a></li>
            
          
            
              <li><a href="/php/#libraries">Libraries and Frameworks</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/structure/">Design</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/structure/#file-organization">File Organization</a></li>
            
          
            
              <li><a href="/structure/#dependencies">Dependencies</a></li>
            
          
            
              <li><a href="/structure/#integrations">Third-Party Integrations</a></li>
            
          
            
              <li><a href="/structure/#modular-code">Modular Code</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/migrations/">Migrations</a>
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/version-control/">VCS</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/version-control/#structure-package-management">Structure</a></li>
            
          
            
              <li><a href="/version-control/#workflows">Workflows</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/site-security/">Security</a>
      	
      </li>
    
  

  
    
      
      <li>
      
      	<a href="/systems/">Systems</a>
      	
      	
      	<ul class="subnav">
      	  
            
              <li><a href="/systems/#nginx">Nginx</a></li>
            
          
            
              <li><a href="/systems/#php-fpm">PHP-FPM</a></li>
            
          
            
              <li><a href="/systems/#mysql">MySQL</a></li>
            
          
            
              <li><a href="/systems/#memcached-and-redis">Memcached and Redis</a></li>
            
          
            
              <li><a href="/systems/#load-balancing">Load Balancing</a></li>
            
          
      	</ul>
      	
      	
      </li>
    
  




			</ul>
		</nav>

		<a href="https://github.com/10up/" class="main-nav-supplemental-icon">
			<span class="screen-reader-text">View on Github</span>
		</a>
		<a class="toggle-menu-icon js-mobile-expandable-toggle">
			<span class="screen-reader-text">Toggle Main Navigation</span>
		</a>

	</div>
</header>

<header id="top" class="template-header header-javascript">
	<div class="grid-inner">
		<h1>
			
				Node.js
			
		</h1>
	</div>
</header>


    <div class="docs-section">
		
		<h2 id="node-versions">Node Versions</h2>

<p>Node applications should <strong>only</strong> use Active LTS or Maintenance LTS versions. Odd-numbered versions (11, 13, 15) should not be used.  When starting a new project always use the most recent Active/Maintenance LTS version. For more information about Node.js version visit <a href="https://nodejs.org/en/about/releases/">Node.js releases page</a>.</p>

<p><img src="https://raw.githubusercontent.com/nodejs/Release/master/schedule.svg?sanitize=true" alt="Node.js releases" /></p>

<p>Every project should declare its supported node version in package.json by specifying the <a href="https://docs.npmjs.com/files/package.json#engines">engines</a> property.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> 
  </span><span class="nl">"engines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"node"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=12.0.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Additionally, it is recommended to create a <code class="language-plaintext highlighter-rouge">.nvmrc</code> file with the officially supported node version of the project. This allows those using <code class="language-plaintext highlighter-rouge">nvm</code> to run <code class="language-plaintext highlighter-rouge">nvm use</code> to switch the node version. We also recommend setting up <a href="https://github.com/nvm-sh/nvm#deeper-shell-integration">shell integration</a> to automatically switch node versions when changing directories.</p>

<h2 id="security-updates">Security Updates</h2>

<p>The JavaScript ecosystem is constantly evolving, several security patches are released almost every day for the hundreds of npm packages used across 10up’s projects. Keeping packages up-to-date is a time-consuming process considering how fast new patches are released. This section brings a few  best practices and processes to better maintain our JavaScript codebase.</p>

<h3 id="nodejs-updates">Node.js updates</h3>

<p>The production Node.js server should always be running a LTS version in order to receive extended security updates. Additionally, production servers running Node.js should be regularly updated to the latest minor version automatically.</p>

<h3 id="dependencies-updates">Dependencies Updates</h3>

<p>We advise project teams to constantly update all npm dependencies for security fixes and general updates. This can be done through the <code class="language-plaintext highlighter-rouge">npm audit fix</code> command. Typically, we recommend leveraging GitHub/GitLab bots (like <a href="https://github.com/dependabot">Dependabot</a>) that automatically create Pull Requests to update dependencies, instead of having engineers running npm audits manually.</p>

<p>Before enabling an automated bot to handle dependencies updates, each project team should manually update all dependencies with the help of <code class="language-plaintext highlighter-rouge">npm audit fix</code> to reduce the numbers of PRs created by the bot. Using an automated bot to handle package updates ensures the project team is constantly up-to-speed with the latest version of each package being used. Even if there are changes required to make a new version of a package work, these changes tend to be much easier when the version jump is smaller.</p>

<p>Additionally, we recommend running <code class="language-plaintext highlighter-rouge">npm audit</code> through <a href="https://www.npmjs.com/package/audit-ci">audit-ci</a> and block Pull Requests/Merge Requests from being merged/approved until high and severe security vulnerabilities are patched.</p>

<h2 id="deploying-nodejs">Deploying Node.js</h2>

<p>We recommend shipping Node.js applications through the official Docker containers which will always pull the latest Node.js minor version on every new deployment.</p>

</div>


    <div class="footer-about">
	<div class="footer-about-inner">

		<div class="cta-careers">
			Already doing all this?<br>
			<a href="https://10up.com/careers" class="button party-blue">Careers at 10up</a>

		</div>

		<div class="license">
			<p>
				Open source, MIT licensed.<br>
				Copyright 2021
				<a href="https://twitter.com/10up">@10up</a> | <a href="https://10up.com/blog/2018/engineering-practices-accessibility-standards/">Accessibility Statement</a></p>
		</div>
	</div>
</div>
<footer role="contentinfo">
	<div class="page-footer-content">
		<a href="https://10up.com" class="logo-link">10up</a>
		<nav class="page-nav expanded" role="navigation" aria-label="footer-navigation">
			<ul>
				<li><a href="https://10up.com">10up.com</a></li>
			</ul>
			<div class="footer-social social-networks">
				<a href="https://twitter.com/10up" class="twitter"><span class="screen-reader-text">Twitter: @10up</span></a>
				<a href="https://github.com/10up" class="github"><span class="screen-reader-text">Github</span></a>
			</div>
		</nav>
	</div>
</footer>


    <script src="/js/main.js"></script>


  </body>
</html>
